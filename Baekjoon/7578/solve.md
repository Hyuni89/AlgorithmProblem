# 7578. Factory  
같은 노드끼리 선분을 연결 했을 때, 교점의 갯수?  

## Brief  
같은 숫자를 가진 페어가 두 라인에 각각 하나씩 있을 때, 같은 페어를 연결 한 선분이 만드는 대각선의 갯수  

> Input  
> N (1 <= N <= 500,000)  
> A<sub>1</sub> A<sub>2</sub> ... A<sub>N</sub> (0 <= A<sub>N</sub> <= 1,000,000)  
> B<sub>1</sub> B<sub>2</sub> ... B<sub>N</sub> (0 <= B<sub>N</sub> <= 1,000,000)  

## Approach  
1. 단순하게 완전 탐색으로 생각했으나 N이 너무 커서 시간초과 발생  
2. 두 라인의 페어를 O(N)의 시간 복잡도로 구했지만 교차하는 특성이 O(N<sup>2</sup>)으로 걸려 시간초과 발생  

## Solution  
1. Inversion  
	- 페어가 오름차순으로 정렬되어 있다면 교차하는 지점은 없다.  
	- 페어가 오름차순으로 정렬되어있지 않다면(큰 값이 앞에 오는 순서쌍이 존재하면) 교차하는 지점 발생  
	> 예를 들어, 페어가 2 3 1 5 7 6 4 이라고 할 때,  
	> 교차하는 지점이 발생하는 페어는 (2, 1), (3, 1), (5, 4), (7, 4), (6, 4), (7, 6) 이다.  

2. 병합 정렬을 이용해 교차하는 지점을 구할 수 있다.  

## Link  
[7578 Factory](https://www.acmicpc.net/problem/7578)  

## Optimizing  
- Python3으로 문제를 푸는데 계속해서 시간초과 발생  
- 검색결과 Python3은 class를 참조하는 과정에서 이상하게 시간이 오래 걸릴 때가 있다고 함  
- 문자열 처리는 생각보다 빠르게 처리 된다고 함  
- Python3의 런타임은 일반 다른 언어와 조금 다르게 나올 수 있어서 측정이 필요하다고 함  
- 결국, class를 제거하고 배열에 값을 넣는 것을 for loop에서 slice로 변경  
- 생각보다 Python3의 속도 계산이 복잡하다.  
